<div>
    <small>Viewing time Entries for {{perioddates}}</small>
</div>
{{#if timelogs}}
    <div class="table-responsive  h-100">
        <table class="table table-sm tbltimelog pre-scrollable" id="tbltimelog">
            <tbody>
                {{#each timelogsview as |timelog index|}}
                    <tr class="col-12 w-100 mb-3 row tr-tangible-{{timelog.isTangible}}" scope="row">
                        <form id="frmEditTimeEntry" class="w-100 form-inline" readonly= {{if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) null "true"}}>
                            <div class="col-5 w-100">
                                <div class="row w-100 mb-1">
                                    <label class="col-2 label">Date:</label>
                                    <input class=" from-control mr-1" value= {{timelog.dateOfWork}} readonly>
                                </div>
                                <div class="row w-100 mb-1">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input mr-1" value=true name="timeentrytypeoptions" type="radio" checked= {{if (eq timelog.isTangible true) "true"}}
                                            disabled= {{if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) null "true"}}
                                            onclick= {{action (mut timelog.isTangible) value = "target.value"}}>
                                        <label class="form-check-label">
                                            Tangible
                                        </label>
                                        <input class="form-check-input ml-1" value=false name="timeentrytypeoptions" type="radio" checked= {{if (eq timelog.isTangible false ) "true"}}
                                            disabled= {{if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) null true}}
                                            onclick= {{action (mut timelog.isTangible) value = "target.value"}}>
                                        <label class="form-check-label">
                                            Intangible
                                        </label>
                                    </div>
                                </div>
                                <div class="row w-100 mb-1 input-group">
                                    <label class="col-2 label">Time:</label>
                                    <input class="col-3 from-control" value= {{timelog.hours}} readonly= {{if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) null "true"}}
                                        onchange= {{action (mut timelog.hours) value = "target.value"}} min=0 max=23>
                                    <div class="input-group-text">:</div>
                                    <input class="col-3 from-control" value= {{timelog.minutes}} readonly= {{if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) null "true"}}
                                        onchange= {{action (mut timelog.minutes) value = "target.value"}} min=0 max=59>
                                </div>
                                <div class="row w-100 mb-1">
                                    <label class=" col-4 label">Project/Task:</label>
                                    <select class="col-8" name="projects" readonly= {{if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) null "true"}}
                                        onchange= {{action (mut timelog.taskId) value = "target.value" }}>
                                        {{#each projects as |project|}}
                                            <optgroup label= {{project.projectName}}></optgroup>
                                            {{#each project.tasks as |task|}}
                                                <option value='"projectId" : {{project.projectId}}, "taskid": {{task._id}}' selected= {{if (eq task._id timelog.taskId) true }}>{{task.Description}}</option>
                                            {{/each}}
                                        {{/each}}
                                    </select>
                                </div>
                                {{#if (and isEditable (is-timeentry-within-week timelog.dateOfWork)) }}
                                    <div class="row w-100">
                                        <a href="#" class="actions" {{action "saveEditsToTimelog" timelog index}}>Save Changes</a>
                                        <a href="#" class="actions" {{action "deleteTimelog" timelog}}> Delete</a>
                                    </div>
                                {{/if}}
                            </div>
                            <div class="col-7">
                                {{tinymce-editor options=options value=timelog.notes }}
                            </div>
                        </form>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
{{else}}
    <small> No time enteries for this period</small>
{{/if}}